(this["webpackJsonparin-gallery"]=this["webpackJsonparin-gallery"]||[]).push([[0],{14:function(e,t,a){e.exports=a(37)},19:function(e,t,a){},2:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(13),r=a.n(s),i=(a(19),a(2),a(3)),o=a.n(i);class m extends l.a.Component{constructor(e){super(e),this.state={userId:"",userName:"",password:"",email:""},this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleValueChange=this.handleValueChange.bind(this),this.doSignUp=this.doSignUp.bind(this)}handleFormSubmit(e){e.preventDefault(),this.doSignUp().then(e=>{console.log(e.data)})}handleFileChange(e){this.setState({file:e.target.files[0],fileName:e.target.value})}handleValueChange(e){let t={};t[e.target.name]=e.target.value,this.setState(t)}doSignUp(){const e=new FormData;e.append("userId",this.state.userId),e.append("userName",this.state.userName),e.append("email",this.state.email),e.append("password",this.state.password);return Object(i.post)("/api/userInfo",e,{headers:{"content-type":"multipart/form-data"}})}render(){return l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("h1",null,"Sign Up"),l.a.createElement("input",{type:"text",name:"userId",placeholder:"User ID",value:this.state.userId,onChange:this.handleValueChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password(4~12)",value:this.state.password,onChange:this.handleValueChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"password",name:"password2",placeholder:"Confirm Password",onChange:this.handleValueChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"userName",placeholder:"User Name",value:this.state.userName,onChange:this.handleValueChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"email",placeholder:"E-mail",value:this.state.email,onChange:this.handleValueChange}),l.a.createElement("br",null),l.a.createElement("button",{type:"submit"},"signUp"))}}var c=m;class h extends n.Component{constructor(e){super(e),this.state={selectedFile:null}}handleFileInput(e){this.setState({selectedFile:e.target.files[0]})}handlePost(){const e=new FormData;return e.append("file",this.state.selectedFile),o.a.post("/api/upload",e).then(e=>{alert("\uc5c5\ub85c\ub4dc \uc131\uacf5")}).catch(e=>{alert("\uc5c5\ub85c\ub4dc \uc2e4\ud328"),console.log(e)})}render(){return l.a.createElement("div",{className:"bbsInfoDiv"},l.a.createElement("h2",null,"BBS Insert"),l.a.createElement("form",null,l.a.createElement("input",{type:"hidden",name:"BBS_NO"}),l.a.createElement("input",{type:"hidden",name:"SEQ"}),l.a.createElement("input",{type:"hidden",name:"WRT_USER_ID"}),"TITLE : ",l.a.createElement("input",{type:"text",name:"TITLE"})," ",l.a.createElement("br",null),"CONTENT : ",l.a.createElement("input",{type:"text",name:"CONTENT"})," ",l.a.createElement("br",null),l.a.createElement("input",{type:"file",name:"file",onChange:null}),l.a.createElement("br",null),l.a.createElement("button",{type:"button",accept:"image/gif, image/jpeg, image/png",onClick:null},"\uc800\uc7a5"),l.a.createElement("button",{type:"button",onClick:null},"\ucde8\uc18c")))}}var p=h;class d extends n.Component{render(){return l.a.createElement("div",{className:"bbsInfoDiv"},l.a.createElement("p",null,"WRITER : ",this.props.name),l.a.createElement("p",null,"BbsNo. : ",this.props.bbsNo,"-",this.props.seq),l.a.createElement("p",null,"TITLE  : ",this.props.title),l.a.createElement("p",null,"CONTENT: ",this.props.content),l.a.createElement("p",null,l.a.createElement("img",{src:"https://pic.sopili.net/pub/emoji/twitter/2/72x72/2764.png",width:"12",height:"12",alt:"heart"}),"\xa0",this.props.likeCnt))}}var u=d;class E extends n.Component{render(){return l.a.createElement("div",{className:"bbsImgDiv"},l.a.createElement("img",{className:"bbsImage",src:this.props.nSrc,alt:"profile"}))}}var g=E;class b extends n.Component{render(){return l.a.createElement("div",{className:"imgItem"},l.a.createElement(g,{nSrc:this.props.nSrc}),l.a.createElement(u,{name:this.props.name,bbsNo:this.props.bbsNo,content:this.props.content,seq:this.props.seq,likeCnt:this.props.likeCnt}))}}var N=b;var v=e=>{let{images:t}=e;return l.a.createElement("div",{className:"image-list-container"}," ",t.map(e=>l.a.createElement(N,{key:e.BBS_NO+"-"+e.SEQ,name:e.USER_NM,bbsNo:e.BBS_NO,title:e.TITLE,content:e.CONTENT,seq:e.SEQ,likeCnt:e.LIKE_CNT,nSrc:e.FILE_PATH})))};class C extends n.Component{constructor(){super(...arguments),this.state={images:[],page:1,loading:!1,hasMore:!0},this.handleScroll=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&!this.state.loading&&this.state.hasMore&&this.loadMoreImages()},this.callApi=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const a=await fetch("/api/bbsInfo?page=".concat(e,"&limit=").concat(t)),n=await a.json();return n},this.loadMoreImages=async()=>{if(!this.state.loading&&this.state.hasMore){this.setState({loading:!0});try{const e=await this.callApi(this.state.page);0===e.length?this.setState({hasMore:!1}):this.setState(t=>({images:[...t.images,...e],page:t.page+1}))}catch(e){console.error("Failed to load images",e)}finally{this.setState({loading:!1})}}}}componentDidMount(){this.loadMoreImages(),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}render(){const{images:e,loading:t,hasMore:a}=this.state;return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"Arin Gallery")),l.a.createElement("div",{className:"content"},l.a.createElement(v,{images:e})," ",t&&l.a.createElement("p",null,"Loading more images..."),!a&&l.a.createElement("p",null,"No more images to load.")),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement(c,null)),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement(p,null)),l.a.createElement("hr",null),l.a.createElement("footer",{className:"App-footer"},l.a.createElement("p",null,"Copyright JYK94 2021.")))}}var S=C;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[14,1,2]]]);
//# sourceMappingURL=main.050ee6c7.chunk.js.map